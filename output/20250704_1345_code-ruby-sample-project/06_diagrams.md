> Previously, we looked at [תצורה (Configuration)](05_תצורה-configuration.md).

# Architecture Diagrams
## Class Diagram
Key classes and their relationships in **20250704_1345_code-ruby-sample-project**.
```mermaid
classDiagram
    class Item {
        +item_id: int
        +name: str
    }
    class ItemProcessor {
        +process(item: Item) : bool
    }
    class DataHandler {
        +load_data(config: Config) : list[Item]
    }
    class Config {
        +filepath: str
    }
    class Main {
        +main() : void
    }
    DataHandler ..> Item : Creates
    ItemProcessor ..> Item : Uses
    Main ..> DataHandler : Uses
    Main ..> ItemProcessor : Uses
    DataHandler ..> Config : Uses
```
## Package Dependencies
High-level module and package structure of **20250704_1345_code-ruby-sample-project**.
```mermaid
graph TD
    M(main.rb)
    C(config.rb)
    DH(data_handler.rb)
    I(item.rb)
    IP(item_processor.rb)
    M --> C
    M --> DH
    M --> IP
    DH --> I
    IP --> I
```
## Sequence Diagrams
These diagrams illustrate various interaction scenarios, showcasing operations between components for specific use cases.
### Loading the application configuration at startup.
```mermaid
sequenceDiagram
    participant User
    participant Application
    participant ConfigurationManager
    participant FileSystem
    User->>Application: Start application
    activate Application
    Application->>ConfigurationManager: Load configuration
    activate ConfigurationManager
    ConfigurationManager->>FileSystem: Read configuration file
    activate FileSystem
    FileSystem-->>ConfigurationManager: Configuration data
    deactivate FileSystem
    ConfigurationManager-->>Application: Configuration loaded
    deactivate ConfigurationManager
    Application-->>User: Application ready
    deactivate Application
```
### Processing a single Item through the Main Processing Pipeline.
```mermaid
sequenceDiagram
    participant User
    participant MainProcessor
    participant ItemProcessor
    participant DataStore
    User->>MainProcessor: Start Processing Item
    activate MainProcessor
    MainProcessor->>ItemProcessor: Process Item
    activate ItemProcessor
    ItemProcessor->>DataStore: Retrieve Item Data
    activate DataStore
    DataStore-->>ItemProcessor: Item Data
    deactivate DataStore
    ItemProcessor->>ItemProcessor: Apply Business Logic
    ItemProcessor->>DataStore: Store Processed Item Data
    activate DataStore
    DataStore-->>ItemProcessor: Confirmation
    deactivate DataStore
    ItemProcessor-->>MainProcessor: Item Processed
    deactivate ItemProcessor
    MainProcessor-->>User: Processing Complete
    deactivate MainProcessor
```
### The Data Handler retrieving multiple Items.
```mermaid
sequenceDiagram
    participant User
    participant DataHandler
    participant DataSource
    User->>DataHandler: Request multiple Items
    activate DataHandler
    DataHandler->>DataSource: Query for Items
    activate DataSource
    DataSource-->>DataHandler: Return multiple Items
    deactivate DataSource
    DataHandler-->>User: Items returned
    deactivate DataHandler
```
### The Item Processor transforming an Item's data.
```mermaid
sequenceDiagram
    participant ItemSource
    participant ItemProcessor
    participant DataDestination
    ItemSource->>ItemProcessor: Send Item
    activate ItemProcessor
    ItemProcessor->>ItemProcessor: Transform Item Data
    ItemProcessor->>DataDestination: Send Processed Item
    activate DataDestination
    DataDestination-->>ItemProcessor: Acknowledge Receipt
    deactivate DataDestination
    ItemProcessor-->>ItemSource: Item Processed
    deactivate ItemProcessor
```
### The Main Processing Pipeline handling an exception raised by the Item Processor.
```mermaid
sequenceDiagram
    participant User
    participant MainPipeline
    participant ItemProcessor
    participant ErrorHandler
    participant Logger
    User->>MainPipeline: Process Data
    activate MainPipeline
    MainPipeline->>ItemProcessor: Process Item
    activate ItemProcessor
    alt No Exception
        ItemProcessor-->>MainPipeline: Item Processed Successfully
        MainPipeline-->>User: Data Processed Successfully
    else Exception Raised
        ItemProcessor-->>MainPipeline: Exception
        deactivate ItemProcessor
        MainPipeline->>ErrorHandler: Handle Exception
        activate ErrorHandler
        ErrorHandler->>Logger: Log Error
        activate Logger
        Logger-->>ErrorHandler: Logged
        deactivate Logger
        ErrorHandler-->>MainPipeline: Error Handled
        deactivate ErrorHandler
        MainPipeline-->>User: Error Processing Data
    end
    deactivate MainPipeline
```

> Next, we will examine [Code Inventory](07_code_inventory.md).


---

*Generated by [SourceLens AI](https://github.com/openXFlow/sourceLensAI) using LLM: `gemini` (cloud) - model: `gemini-2.0-flash` | Language Profile: `Python`*
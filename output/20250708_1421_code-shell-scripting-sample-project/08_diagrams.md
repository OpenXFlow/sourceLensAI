> Previously, we looked at [Shell Scripting Fundamentals (Bash/PowerShell)](07_shell-scripting-fundamentals-bash-powershell.md).

# Chapter 8: Architecture Diagrams
## Class Diagram
Key classes and their relationships in **20250708_1421_code-shell-scripting-sample-project**.
```mermaid
classDiagram
    class BackupScript {
        +backup() : void
    }
    class DeployScript {
        +deploy() : void
    }
    class MonitorScript {
        +monitor() : void
    }
    class LinuxEnvironment {
        +execute(script: BackupScript) : void
        +execute(script: DeployScript) : void
        +execute(script: MonitorScript) : void
    }
    class WindowsEnvironment {
        +execute(script: BackupScript) : void
        +execute(script: DeployScript) : void
        +execute(script: MonitorScript) : void
    }
```
## Package Dependencies
High-level module and package structure of **20250708_1421_code-shell-scripting-sample-project**.
```mermaid
graph TD
    A[Makefile]
    B["README.md"]
    C1["linux/backup.sh"]
    C2["linux/deploy.sh"]
    C3["linux/monitor.sh"]
    D1["windows/backup.ps1"]
    D2["windows/deploy.bat"]
    D3["windows/monitor.ps1"]
    A --> C1
    A --> C2
    A --> C3
    A --> D1
    A --> D2
    A --> D3
```
## Sequence Diagrams
These diagrams illustrate various interaction scenarios, showcasing operations between components for specific use cases.
### User initiates the backup script via the Makefile, triggering file archiving.
```mermaid
sequenceDiagram
    participant User
    participant Makefile
    participant BackupScript
    User->>Makefile: Initiates backup via 'make backup'
    activate Makefile
    Makefile->>BackupScript: Executes backup script
    activate BackupScript
    BackupScript->>BackupScript: Archive files
    BackupScript-->>Makefile: Backup completed
    deactivate BackupScript
    Makefile-->>User: Backup process finished
    deactivate Makefile
```
### The deployment script retrieves code from Git and deploys it to a target environment.
```mermaid
sequenceDiagram
    participant User
    participant DeploymentScript
    participant GitRepository
    participant TargetEnvironment
    User->>DeploymentScript: Trigger Deployment
    activate DeploymentScript
    DeploymentScript->>GitRepository: Retrieve Code
    activate GitRepository
    GitRepository-->>DeploymentScript: Code Retrieved
    deactivate GitRepository
    DeploymentScript->>TargetEnvironment: Deploy Code
    activate TargetEnvironment
    TargetEnvironment-->>DeploymentScript: Deployment Successful
    deactivate TargetEnvironment
    DeploymentScript-->>User: Deployment Complete
    deactivate DeploymentScript
```
### The monitoring script detects a high CPU usage and sends an alert.
```mermaid
sequenceDiagram
    participant MonitoringScript
    participant System
    participant AlertingService
    participant User
    MonitoringScript->>System: Check CPU Usage
    activate MonitoringScript
    alt CPU Usage High
        MonitoringScript->>AlertingService: Send Alert (CPU High)
        activate AlertingService
        AlertingService-->>MonitoringScript: Alert Sent
        AlertingService->>User: Notify User (CPU High)
        deactivate AlertingService
    else CPU Usage Normal
        MonitoringScript->>MonitoringScript: Continue Monitoring
    end
    deactivate MonitoringScript
```
### The backup script fails due to insufficient permissions and logs an error.
```mermaid
sequenceDiagram
    participant User
    participant BackupScript
    participant FileSystem
    participant Logger
    User->>BackupScript: Execute backup
    activate BackupScript
    BackupScript->>FileSystem: Access files
    activate FileSystem
    alt Insufficient permissions
        FileSystem-->>BackupScript: Permission denied
        BackupScript->>Logger: Log error "Insufficient permissions"
        activate Logger
        Logger-->>BackupScript: Error logged
        deactivate Logger
        BackupScript-->>User: Backup failed - Permission denied
    else Backup successful
        FileSystem-->>BackupScript: Files accessed
        BackupScript->>BackupScript: Perform backup operations
        BackupScript-->>User: Backup completed successfully
    end
    deactivate FileSystem
    deactivate BackupScript
```

> Next, we will examine [Code Inventory](09_code_inventory.md).


---

*Generated by [SourceLens AI](https://github.com/openXFlow/sourceLensAI) using LLM: `gemini` (cloud) - model: `gemini-2.0-flash` | Language Profile: `Python`*
# Analog AGC Amplifier Project

This document provides an overview of the `agc_amplifier_project`, including its file structure and links to individual file analyses. The project defines and simulates a multi-stage Automatic Gain Control (AGC) amplifier using SPICE and Verilog-A.

## Project Structure

The project is organized into `analysis` and `models` directories to separate simulation control from component definitions, which is a standard practice in analog circuit design.

```bash
analog_design_sample_project/
├── README.md
├── agc_system.sp
├── analysis/
│   ├── dc_analysis.inc
│   └── transient_analysis.inc
└── models/
    ├── opamp_gain_stage.lib
    ├── peak_detector.lib
    └── voltage_controlled_resistor.va
```

## File Index and Descriptions

Below is a list of all key files within the project. Each link leads to a detailed breakdown of the file's purpose and content.

*   **[README.md](./README.md)**: Provides a high-level description of the AGC amplifier project and its components.
*   **[agc_system.sp](./agc_system.sp)**: The top-level SPICE netlist that connects all the sub-circuits and defines the main simulation setup.

### `analysis` Directory - Simulation Control

*   **[analysis/dc_analysis.inc](./analysis/dc_analysis.inc)**: An include file that specifies the DC operating point (`.OP`) analysis.
*   **[analysis/transient_analysis.inc](./analysis/transient_analysis.inc)**: An include file that configures the transient (time-domain) analysis to observe the AGC's dynamic behavior.

### `models` Directory - Component Models

*   **[models/opamp_gain_stage.lib](./models/opamp_gain_stage.lib)**: A SPICE sub-circuit library defining the variable gain amplifier (VGA) stage.
*   **[models/peak_detector.lib](./models/peak_detector.lib)**: A sub-circuit that implements a simple peak detector to measure the amplitude of the output signal.
*   **[models/voltage_controlled_resistor.va](./models/voltage_controlled_resistor.va)**: A Verilog-A behavioral model for a voltage-controlled resistor, which is the core component for achieving variable gain.

## Project Configuration

The following settings from `config.json` were used for the analysis of this project.

> **Note:** The configuration shown below is a simplified subset specific to this analysis run (e.g., for a command like `sourcelens code --dir tests/analog_design_sample_project`). A complete `config.json` file for full application functionality must include all profiles (language and LLM) and configuration blocks for all supported flows (e.g., `FL01_code_analysis`, `FL02_web_crawling`).

```json
{
  "common": {
    "common_output_settings": {
      "generated_text_language": "english"
    },
    "llm_default_options": {
      "max_retries": 5,
      "retry_wait_seconds": 20
    }
  },
  "FL01_code_analysis": {
    "enabled": true,
    "active_language_profile_id": "analog_design_llm_default",
    "active_llm_provider_id": "gemini_flash_main",
    "diagram_generation": {
      "enabled": true,
      "include_relationship_flowchart": true
    },
    "output_options": {
      "include_source_index": true,
      "include_project_review": true
    }
  },
  "profiles": {
    "language_profiles": [
      {
        "profile_id": "analog_design_llm_default",
        "language_name_for_llm": "Analog Circuit Design (SPICE, Verilog-A)",
        "parser_type": "llm",
        "include_patterns": [
          "*.sp", "*.spice", "*.cir", "*.net", "*.va", "*.vams", "*.scs",
          "*.inc", "*.lib", "*.md", "*.txt"
        ]
      }
    ],
    "llm_profiles": [
      {
        "provider_id": "gemini_flash_main",
        "is_local_llm": false,
        "provider": "gemini",
        "model": "gemini-2.0-flash",
        "api_key_env_var": "GEMINI_API_KEY",
        "api_key": "Your_GEMINI_API_KEY"
      }
    ]
  }
}
```
---

*Generated by [SourceLens AI](https://github.com/openXFlow/sourceLensAI) using LLM: `gemini` (cloud) - model: `gemini-2.0-flash` | Language Profile: `Analog Circuit Design (SPICE, Verilog-A)`*
